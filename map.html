<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Workshop Locations in Hong Kong</title>
    
    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    
    <!-- External CSS -->
    <link rel="stylesheet" href="style/style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>Hong Kong Workshop Locations</h1>
            <p>Find creative workshops across Hong Kong</p>
        </header>
        
        <div id="map"></div>
        
        <div class="info-panel">
            <h3>Workshop Information</h3>
            <div id="workshop-details">
                <p>Click on a marker to see workshop details</p>
            </div>
        </div>
    </div>

    <!-- Leaflet JavaScript -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    
    <script>
        // Initialize the map centered on Hong Kong
        const map = L.map('map').setView([22.3193, 114.1694], 12);

        // Add OpenStreetMap tiles
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: 'Â© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
        }).addTo(map);

        // Workshop locations data
        const workshopLocations = [
            {
                name: "Central Creative Workshop",
                latlng: [22.2820, 114.1553],
                address: "18/F, California Tower, 30-32 D'Aguilar St, Central",
                type: "Art & Craft",
                hours: "Mon-Sat: 9:00-18:00",
                phone: "+852 1234 5678",
                description: "Professional art supplies and workshop space",
                website: "#"
            },
            {
                name: "Kowloon Tech Lab",
                latlng: [22.3199, 114.1695],
                address: "Shop 15, Mong Kok Computer Centre, 8 Nelson St, Mong Kok",
                type: "Technology",
                hours: "Tue-Sun: 10:00-20:00",
                phone: "+852 2345 6789",
                description: "3D printing and electronics workshops",
                website: "#"
            },
            {
                name: "Wan Chai Cooking Studio",
                latlng: [22.2790, 114.1730],
                address: "12 Hennessy Road, Wan Chai",
                type: "Culinary",
                hours: "Daily: 8:00-22:00",
                phone: "+852 3456 7890",
                description: "Professional kitchen for cooking classes",
                website: "#"
            },
            {
                name: "Causeway Bay Wood Workshop",
                latlng: [22.2800, 114.1840],
                address: "25 Yee Wo Street, Causeway Bay",
                type: "Woodworking",
                hours: "Wed-Mon: 10:00-19:00",
                phone: "+852 4567 8901",
                description: "Woodworking tools and classes",
                website: "#"
            },
            {
                name: "Tsim Sha Tsui Photography Studio",
                latlng: [22.2970, 114.1710],
                address: "38 Salisbury Road, Tsim Sha Tsui",
                type: "Photography",
                hours: "Mon-Fri: 11:00-21:00, Sat-Sun: 9:00-18:00",
                phone: "+852 5678 9012",
                description: "Photography equipment rental and workshops",
                website: "#"
            },
            {
                name: "Sheung Wan Pottery Studio",
                latlng: [22.2865, 114.1490],
                address: "45 Hollywood Road, Sheung Wan",
                type: "Art & Craft",
                hours: "Thu-Tue: 10:00-18:00",
                phone: "+852 6789 0123",
                description: "Pottery classes and ceramic workshops",
                website: "#"
            }
        ];

        // Custom icons for different workshop types
        const iconColors = {
            'Art & Craft': '#e74c3c',
            'Technology': '#3498db',
            'Culinary': '#e67e22',
            'Woodworking': '#27ae60',
            'Photography': '#9b59b6'
        };

        // Function to create custom icons
        function createCustomIcon(workshopType) {
            const color = iconColors[workshopType] || '#7f8c8d';
            return L.divIcon({
                className: 'custom-div-icon',
                html: `<div style="background-color: ${color}; width: 30px; height: 30px; border-radius: 50%; border: 3px solid white; box-shadow: 0 2px 5px rgba(0,0,0,0.3); display: flex; align-items: center; justify-content: center; color: white; font-weight: bold;">${workshopType.charAt(0)}</div>`,
                iconSize: [30, 30],
                iconAnchor: [15, 15]
            });
        }

        // Add markers for each workshop location
        workshopLocations.forEach(workshop => {
            const marker = L.marker(workshop.latlng, {
                icon: createCustomIcon(workshop.type)
            }).addTo(map);
            
            // Create popup content
            const popupContent = `
                <div class="workshop-popup">
                    <div class="workshop-title">${workshop.name}</div>
                    <div class="workshop-info"><strong>Type:</strong> ${workshop.type}</div>
                    <div class="workshop-info"><strong>Address:</strong> ${workshop.address}</div>
                    <div class="workshop-info"><strong>Hours:</strong> ${workshop.hours}</div>
                    <div class="contact-info">
                        <strong>Contact:</strong> ${workshop.phone}<br>
                        ${workshop.description}
                    </div>
                </div>
            `;
            
            marker.bindPopup(popupContent);
            
            // Add click event to update info panel
            marker.on('click', function() {
                document.getElementById('workshop-details').innerHTML = `
                    <div class="selected-workshop">
                        <h4>${workshop.name}</h4>
                        <p><strong>Type:</strong> ${workshop.type}</p>
                        <p><strong>Address:</strong> ${workshop.address}</p>
                        <p><strong>Hours:</strong> ${workshop.hours}</p>
                        <p><strong>Phone:</strong> ${workshop.phone}</p>
                        <p><strong>Description:</strong> ${workshop.description}</p>
                        <a href="${workshop.website}" class="website-link">Visit Website</a>
                    </div>
                `;
            });
        });

        // Add a legend
        const legend = L.control({ position: 'bottomright' });

        legend.onAdd = function(map) {
            const div = L.DomUtil.create('div', 'legend');
            div.innerHTML = '<h4>Workshop Types</h4>';
            
            Object.entries(iconColors).forEach(([type, color]) => {
                div.innerHTML += `
                    <div class="legend-item">
                        <span class="legend-color" style="background-color: ${color}"></span>
                        <span class="legend-text">${type}</span>
                    </div>
                `;
            });
            
            return div;
        };

        legend.addTo(map);

        // Fit map bounds to show all markers
        const group = new L.featureGroup(workshopLocations.map(w => L.marker(w.latlng)));
        map.fitBounds(group.getBounds().pad(0.1));

        // Add click event to show coordinates (useful for adding new locations)
        map.on('click', function(e) {
            console.log('Clicked at: ' + e.latlng.lat + ', ' + e.latlng.lng);
        });

    </script>
</body>
</html>