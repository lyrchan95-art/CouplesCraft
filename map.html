<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Workshop Locations in Hong Kong</title>
    
    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: Arial, sans-serif;
        }
        
        #map {
            height: 100vh;
            width: 100%;
        }
        
        /* Custom popup styling */
        .leaflet-popup-content-wrapper {
            border-radius: 8px;
        }
        
        .leaflet-popup-content {
            margin: 15px;
            font-family: Arial, sans-serif;
        }
        
        .workshop-title {
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 8px;
            font-size: 16px;
        }
        
        .workshop-info {
            color: #34495e;
            margin: 5px 0;
            font-size: 14px;
        }
        
        .contact-info {
            background-color: #f8f9fa;
            padding: 8px;
            border-radius: 4px;
            margin-top: 8px;
        }
    </style>
</head>
<body>
    <div id="map"></div>

    <!-- Leaflet JavaScript -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    
    <script>
        // Initialize the map centered on Hong Kong
        const map = L.map('map').setView([22.3193, 114.1694], 12);

        // Add OpenStreetMap tiles
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: 'Â© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
        }).addTo(map);

        // Workshop locations data
        const workshopLocations = [
            {
                name: "Central Creative Workshop",
                latlng: [22.2820, 114.1553],
                address: "18/F, California Tower, 30-32 D'Aguilar St, Central",
                type: "Art & Craft",
                hours: "Mon-Sat: 9:00-18:00",
                phone: "+852 1234 5678",
                description: "Professional art supplies and workshop space"
            },
            {
                name: "Kowloon Tech Lab",
                latlng: [22.3199, 114.1695],
                address: "Shop 15, Mong Kok Computer Centre, 8 Nelson St, Mong Kok",
                type: "Technology",
                hours: "Tue-Sun: 10:00-20:00",
                phone: "+852 2345 6789",
                description: "3D printing and electronics workshops"
            },
            {
                name: "Wan Chai Cooking Studio",
                latlng: [22.2790, 114.1730],
                address: "12 Hennessy Road, Wan Chai",
                type: "Culinary",
                hours: "Daily: 8:00-22:00",
                phone: "+852 3456 7890",
                description: "Professional kitchen for cooking classes"
            },
            {
                name: "Causeway Bay Wood Workshop",
                latlng: [22.2800, 114.1840],
                address: "25 Yee Wo Street, Causeway Bay",
                type: "Woodworking",
                hours: "Wed-Mon: 10:00-19:00",
                phone: "+852 4567 8901",
                description: "Woodworking tools and classes"
            },
            {
                name: "Tsim Sha Tsui Photography Studio",
                latlng: [22.2970, 114.1710],
                address: "38 Salisbury Road, Tsim Sha Tsui",
                type: "Photography",
                hours: "Mon-Fri: 11:00-21:00, Sat-Sun: 9:00-18:00",
                phone: "+852 5678 9012",
                description: "Photography equipment rental and workshops"
            }
        ];

        // Custom icons for different workshop types
        const iconColors = {
            'Art & Craft': 'red',
            'Technology': 'blue',
            'Culinary': 'orange',
            'Woodworking': 'green',
            'Photography': 'purple'
        };

        // Function to create custom icons
        function createCustomIcon(workshopType) {
            const color = iconColors[workshopType] || 'gray';
            return L.divIcon({
                className: 'custom-div-icon',
                html: `<div style="background-color: ${color}; width: 25px; height: 25px; border-radius: 50%; border: 3px solid white; box-shadow: 0 2px 5px rgba(0,0,0,0.3);"></div>`,
                iconSize: [25, 25],
                iconAnchor: [12, 12]
            });
        }

        // Add markers for each workshop location
        workshopLocations.forEach(workshop => {
            const marker = L.marker(workshop.latlng, {
                icon: createCustomIcon(workshop.type)
            }).addTo(map);
            
            // Create popup content
            const popupContent = `
                <div class="workshop-popup">
                    <div class="workshop-title">${workshop.name}</div>
                    <div class="workshop-info"><strong>Type:</strong> ${workshop.type}</div>
                    <div class="workshop-info"><strong>Address:</strong> ${workshop.address}</div>
                    <div class="workshop-info"><strong>Hours:</strong> ${workshop.hours}</div>
                    <div class="contact-info">
                        <strong>Contact:</strong> ${workshop.phone}<br>
                        ${workshop.description}
                    </div>
                </div>
            `;
            
            marker.bindPopup(popupContent);
        });

        // Add a legend
        const legend = L.control({ position: 'bottomright' });

        legend.onAdd = function(map) {
            const div = L.DomUtil.create('div', 'legend');
            div.innerHTML = '<h4>Workshop Types</h4>';
            
            Object.entries(iconColors).forEach(([type, color]) => {
                div.innerHTML += `
                    <div style="margin: 5px 0;">
                        <span style="display: inline-block; width: 15px; height: 15px; background-color: ${color}; border-radius: 50%; margin-right: 8px;"></span>
                        ${type}
                    </div>
                `;
            });
            
            // Add some styling
            div.style.backgroundColor = 'white';
            div.style.padding = '10px';
            div.style.borderRadius = '5px';
            div.style.boxShadow = '0 2px 5px rgba(0,0,0,0.2)';
            
            return div;
        };

        legend.addTo(map);

        // Optional: Fit map bounds to show all markers
        const group = new L.featureGroup(workshopLocations.map(w => L.marker(w.latlng)));
        map.fitBounds(group.getBounds().pad(0.1));

        // Add click event to show coordinates (useful for adding new locations)
        map.on('click', function(e) {
            console.log('Clicked at: ' + e.latlng.lat + ', ' + e.latlng.lng);
        });

    </script>
</body>
</html>